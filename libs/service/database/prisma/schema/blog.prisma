model Blog {
  // Base field
  id        String    @id @default(uuid(7))
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime?

  // Entity fields
  title    String
  content  String
  userId   String
  user     UserAccount       @relation("UserBlogs", fields: [userId], references: [id])
  posts    BlogPost[]
  comments BlogPostComment[]

  @@index([deletedAt])
}

model BlogPost {
  // Base field
  id        String    @id @default(uuid(7))
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime?

  // Entity fields
  title    String
  content  String
  blogId   String
  blog     Blog              @relation(fields: [blogId], references: [id])
  comments BlogPostComment[]

  @@index([deletedAt])
}

model BlogPostComment {
  // Base field
  id        String    @id @default(uuid(7))
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime?

  // Entity fields
  content    String
  blogId     String?
  blog       Blog?       @relation(fields: [blogId], references: [id])
  blogPostId String?
  blogPost   BlogPost?   @relation(fields: [blogPostId], references: [id])
  userId     String
  user       UserAccount @relation(name: "UserBlogComments", fields: [userId], references: [id])

  @@index([deletedAt])
}
